import{f as N,r as y,s as F,g as S,h as R,i as z,j as T,k as V,l as K,m as r,n as q,q as b,o as d,c as f,a as c,t as C,b as _,v as B,x as A,y as k,z as P,A as $,B as W,C as E,F as j,D as Z,w as G,_ as J}from"./BcxvTYIe.js";import{b as Q,_ as X,a as Y}from"./B5h6uZJl.js";import{_ as L}from"./DlAUqK2U.js";import{u as O}from"./ClejwbrJ.js";const tt=a=>a==="defer"||a===!1;function et(...a){var M;const n=typeof a[a.length-1]=="string"?a.pop():void 0;typeof a[0]!="string"&&a.unshift(n);let[t,o,e={}]=a;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=V(),p=o,g=()=>null,w=()=>s.isHydrating?s.payload.data[t]:s.static.data[t];e.server=e.server??!0,e.default=e.default??g,e.getCachedData=e.getCachedData??w,e.lazy=e.lazy??!1,e.immediate=e.immediate??!0,e.deep=e.deep??N.deep,e.dedupe=e.dedupe??"cancel";const m=()=>e.getCachedData(t,s)!=null;if(!s._asyncData[t]||!e.immediate){(M=s.payload._errors)[t]??(M[t]=null);const u=e.deep?y:F;s._asyncData[t]={data:u(e.getCachedData(t,s)??e.default()),pending:y(!m()),error:S(s.payload._errors,t),status:y("idle")}}const i={...s._asyncData[t]};i.refresh=i.execute=(u={})=>{if(s._asyncDataPromises[t]){if(tt(u.dedupe??e.dedupe))return s._asyncDataPromises[t];s._asyncDataPromises[t].cancelled=!0}if((u._initial||s.isHydrating&&u._initial!==!1)&&m())return Promise.resolve(e.getCachedData(t,s));i.pending.value=!0,i.status.value="pending";const v=new Promise((l,x)=>{try{l(p(s))}catch(H){x(H)}}).then(async l=>{if(v.cancelled)return s._asyncDataPromises[t];let x=l;e.transform&&(x=await e.transform(l)),e.pick&&(x=st(x,e.pick)),s.payload.data[t]=x,i.data.value=x,i.error.value=null,i.status.value="success"}).catch(l=>{if(v.cancelled)return s._asyncDataPromises[t];i.error.value=K(l),i.data.value=r(e.default()),i.status.value="error"}).finally(()=>{v.cancelled||(i.pending.value=!1,delete s._asyncDataPromises[t])});return s._asyncDataPromises[t]=v,s._asyncDataPromises[t]},i.clear=()=>at(s,t);const D=()=>i.refresh({_initial:!0}),I=e.server!==!1&&s.payload.serverRendered;{const u=q();if(u&&!u._nuxtOnBeforeMountCbs){u._nuxtOnBeforeMountCbs=[];const l=u._nuxtOnBeforeMountCbs;u&&(R(()=>{l.forEach(x=>{x()}),l.splice(0,l.length)}),z(()=>l.splice(0,l.length)))}I&&s.isHydrating&&(i.error.value||m())?(i.pending.value=!1,i.status.value=i.error.value?"error":"success"):u&&(s.payload.serverRendered&&s.isHydrating||e.lazy)&&e.immediate?u._nuxtOnBeforeMountCbs.push(D):e.immediate&&D(),e.watch&&T(e.watch,()=>i.refresh());const v=s.hook("app:data:refresh",async l=>{(!l||l.includes(t))&&await i.refresh()});u&&z(v)}const h=Promise.resolve(s._asyncDataPromises[t]).then(()=>i);return Object.assign(h,i),h}function at(a,n){n in a.payload.data&&(a.payload.data[n]=void 0),n in a.payload._errors&&(a.payload._errors[n]=null),a._asyncData[n]&&(a._asyncData[n].data.value=void 0,a._asyncData[n].error.value=null,a._asyncData[n].pending.value=!1,a._asyncData[n].status.value="idle"),n in a._asyncDataPromises&&(a._asyncDataPromises[n].cancelled=!0,a._asyncDataPromises[n]=void 0)}function st(a,n){const t={};for(const o of n)t[o]=a[o];return t}const nt=["title"],ot=b({__name:"MenuItem",props:{title:{default:"lala"}},setup(a){const n=a;return(t,o)=>(d(),f("div",null,[c("button",{title:n.title,class:"min-w-[140px] h-[64px] rounded-[100px] py-[16px] px-[32px] uppercase font-neucha text-[28px]/[32px] text-[#B3A296] hover:bg-[#312525] focus:bg-[#312525] hover:text-white focus:text-white active:scale-75"},C(n.title),9,nt)]))}}),ct={},it={class:"mt-[100px]"},rt=c("div",{class:"w-fit mx-auto flex items-center justify-center gap-x-[40px]"},[c("span",{class:"bg-[#312525] w-[10px] h-[10px] rounded-full"}),c("h2",{class:"font-neucha font-[400] text-[60px]/[67px] text-[#312525] uppercase"}," меню "),c("span",{class:"bg-[#312525] w-[10px] h-[10px] rounded-full"})],-1),lt={class:"mt-[50px] flex items-center justify-center flex-wrap gap-x-2"};function ut(a,n){const t=ot;return d(),f("div",null,[c("section",it,[rt,c("div",lt,[_(t,{title:"Роллы"}),_(t,{title:"суши и гунканы"}),_(t,{title:"сеты"}),_(t,{title:"лапша и рис"}),_(t,{title:"салаты"}),_(t,{title:"Горячие блюда"})])])])}const dt=L(ct,[["render",ut]]),pt=b({__name:"InBagButton",emits:["activited"],setup(a,{emit:n}){const t=n,o=e=>{e.preventDefault(),t("activited")};return(e,s)=>(d(),f("button",{title:"На главную",onClick:B(o,["stop"]),class:"w-[100px] h-[35px] rounded-[8px] font-ptSansNarrow text-[15px]/[20px] font-[400] tracking-[0.04em] shadow-[0px_0px_12px_0px_#00000059] bg-[#312525] text-white active:scale-75"}," В корзину "))}}),_t="data:image/svg+xml,%3csvg%20width='14'%20height='2'%20viewBox='0%200%2014%202'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.3337%201.00024H1.66699'%20stroke='%232A344A'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ft="data:image/svg+xml,%3csvg%20width='10'%20height='10'%20viewBox='0%200%2010%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.55545%204.99998H1.44434M4.99989%208.55545V1.44434'%20stroke='%232A344A'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",mt={class:"w-fit p-1 flex items-center justify-center gap-x-[12px]"},ht=c("img",{src:_t,alt:"minus",loading:"lazy"},null,-1),xt=[ht],vt={class:"font-neucha font-[400] text-[19px]/[20px] tracking-[0.05em]"},gt=c("img",{class:"block absolute left-[48%] top-[50%] translate-x-[-50%] translate-y-[-48%]",src:ft,alt:"plus",loading:"lazy"},null,-1),wt=[gt],yt=b({__name:"MinPlusButton",props:{id:{}},emits:["minus","plus"],setup(a,{emit:n}){const t=n,o=a,e=O(),{ItemCount:s}=e,p=y(s(o.id).value),g=m=>{m.preventDefault(),t("minus")},w=m=>{m.preventDefault(),t("plus")};return A(()=>{p.value=s(o.id).value}),(m,i)=>(d(),f("div",mt,[c("button",{onClick:B(g,["stop"]),class:"w-[30px] h-[30px] bg-white p-[7px] font-bold text-black rounded-full active:scale-75"},xt),c("span",vt,C(r(p)),1),c("button",{onClick:B(w,["stop"]),class:"w-[30px] h-[30px] relative bg-white p-[7px] font-bold text-black rounded-full active:scale-75"},wt)]))}}),Dt=""+new URL("cat.DKMas90h.png",import.meta.url).href,Ct={class:"w-[100%]"},bt={class:"w-fit mx-auto flex items-start justify-stretch"},It=c("img",{src:Dt,alt:"catItem",loading:"lazy"},null,-1),$t={class:"w-[100%] px-[30px] mt-6 h-[35%] flex-auto"},kt={class:"flex items-start justify-between gap-x-[20px]"},Bt={class:"mt-[20px] h-[60%] overflow-x-hidden overflow-y-auto mb-3"},Mt={class:"w-[100%] px-[30px]"},Pt={class:"flex items-center justify-between"},jt=b({__name:"ItemCat",props:{pItem:{}},setup(a){const n=a,t=y(!1),o=y(n.pItem),e=O(),{AddItem:s,setItemCount:p,DeleteItem:g,inBag:w,heartItem:m}=e,i=()=>{t.value=!t.value,t.value&&(o.value.count++,s(o.value))},D=()=>{o.value.count++,p(o.value.id,o.value.count)},I=()=>{o.value.count--,o.value.count<1&&(o.value.count=0),p(o.value.id,o.value.count),o.value.count===0&&g(o.value.id)};return A(()=>{t.value=w(o.value.id).value,t.value&&(o.value.heart=m(o.value.id).value)}),(h,M)=>{const u=Q,v=pt,l=yt;return d(),f("div",{class:k(["max-w-[270px] min-h-[390px] overflow-hidden rounded-[8px] transition-all flex flex-col py-[30px] shadow-[0px_0px_12px_0px_#00000040]",r(t)?"bg-[#312525] text-white":"bg-[#FAFAFA]"])},[c("header",Ct,[c("div",bt,[It,_(u,{"is-heart":r(o).heart,"is-active":r(t),"param-id":r(o).id},null,8,["is-heart","is-active","param-id"])])]),c("main",$t,[c("div",kt,[c("span",{class:k(["font-neucha font-[400] text-[19px]/[25px] tracking-[0.1em] uppercase",r(t)?"text-white":"text-[#141414]"])},C(h.pItem.name),3),c("span",{class:k(["font-myArial text-[13px]/[15px] font-[400] tracking-[0.04em]",r(t)?"text-white":"text-[#808080]"])},C(h.pItem.weight)+"г.",3)]),c("p",Bt,C(h.pItem.description),1)]),c("footer",Mt,[c("div",Pt,[c("span",{class:k(["font-neucha font-[400] text-[19px]/[21px] tracking-[0.05em]",r(t)?"text-white":"text-[#141414]"])},C(h.pItem.price)+" ₽",3),r(t)?$("",!0):(d(),P(v,{key:0,onActivited:i})),r(t)?(d(),P(l,{key:1,id:r(o).id,onMinus:I,onPlus:D},null,8,["id"])):$("",!0)])])],2)}}}),Lt="data:image/svg+xml,%3csvg%20width='25'%20height='15'%20viewBox='0%200%2025%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.5245%200.555247L0.399387%2011.6806C0.141869%2011.9379%200%2012.2814%200%2012.6476C0%2013.0139%200.141869%2013.3574%200.399387%2013.6147L1.21849%2014.434C1.75222%2014.9671%202.61969%2014.9671%203.15262%2014.434L12.4948%205.0918L21.8474%2014.4444C22.1049%2014.7017%2022.4482%2014.8438%2022.8142%2014.8438C23.1807%2014.8438%2023.524%2014.7017%2023.7817%2014.4444L24.6006%2013.6251C24.8581%2013.3675%2025%2013.0243%2025%2012.658C25%2012.2917%2024.8581%2011.9482%2024.6006%2011.6909L13.4653%200.555247C13.207%200.297323%2012.8621%200.155658%2012.4954%200.156471C12.1273%200.155658%2011.7826%200.297323%2011.5245%200.555247Z'%20fill='white'/%3e%3c/svg%3e",zt=c("img",{class:"w-[32px] h-[32px]",src:Lt,alt:"up",losding:"lazy"},null,-1),Et=[zt],Ut=b({__name:"UpButton",setup(a){const n=()=>{scrollTo(0,0)};return(t,o)=>(d(),f("button",{onClick:B(n,["prevent"]),title:"К началу страницы",class:"w-[60px] h-[60px] bg-[#312525] px-4 active:scale-75 rounded-full"},Et))}});function At(){const a=y(!1);return{isShow:a,show:()=>{a.value=!0},hide:()=>{a.value=!1}}}const Ot={mounted(a,n){const t={root:null,rootMargin:"0px",threshold:[1]},o=s=>{s.forEach(p=>{p.isIntersecting&&n.value.func&&typeof n.value.func=="function"&&n.value.func()})};new IntersectionObserver(o,t).observe(a)},name:"Intercept"},U=Ot,Ht={key:0},Nt={key:0,class:"mt-[50px] w-fit mx-auto gridData"},Ft={key:0,class:"fixed bottom-16 right-8 animate-fromTop"},St=b({__name:"CatItems",async setup(a){let n,t;const{pending:o,error:e,data:s}=([n,t]=W(async()=>et("catItems",async()=>await $fetch("/api/items"))),n=await n,t(),n),{isShow:p,show:g,hide:w}=At();return(m,i)=>{const D=jt,I=Ut;return d(),f(j,null,[r(o)?(d(),f("div",Ht,"Loading...")):$("",!0),c("div",null,[E(c("div",null,null,512),[[r(U),{func:r(w)}]]),!r(o)&&!r(e)?(d(),f("section",Nt,[(d(!0),f(j,null,Z(r(s),h=>(d(),P(D,{key:h.id,"p-item":h},null,8,["p-item"]))),128)),r(p)?(d(),f("div",Ft,[_(I)])):$("",!0)])):$("",!0),E(c("div",null,null,512),[[r(U),{func:r(g)}]])])],64)}}}),Rt=L(St,[["__scopeId","data-v-45a62a66"]]),Tt={};function Vt(a,n){const t=J,o=Y,e=dt,s=Rt,p=X;return d(),f(j,null,[_(t,{color:"navy"}),_(p,null,{default:G(()=>[_(o),_(e),_(s)]),_:1})],64)}const Gt=L(Tt,[["render",Vt]]);export{Gt as default};
